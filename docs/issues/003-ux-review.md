# UXレビュー指摘事項

## 概要

ui-ux-pro-maxスキルのガイドラインとデザインファイル（`designs/todo-app.pen`）の全画面スクリーンショットを照合してレビューした結果。

## 指摘一覧

### HIGH - 対応推奨

| # | 状態 | 画面 | 指摘 |
|---|------|------|------|
| 1 | 完了 | タイマー画面 | タイマー円にリング/プログレス表示がない |
| 2 | 完了 | タスクアクションダイアログ | 「削除」が他アクションと同列で並んでいる |
| 3 | 完了 | タスク追加モーダル | バリデーションエラーのデザインがない |
| 4 | 完了 | 全画面共通 | 空状態（Empty State）のデザインがない |

### MEDIUM - 検討推奨

| # | 状態 | 画面 | 指摘 |
|---|------|------|------|
| 5 | 完了 | タスクアクションダイアログ | タッチターゲットの高さが小さめ |
| 6 | 完了 | カレンダー（モバイル） | セル内タスク名のフォントサイズが8pxで小さすぎる |
| 7 | 完了 | タイマー終了ダイアログ | 「中断する」がゴースト表示で見落とされやすい |
| 8 | 完了 | PC - Main | 右カラム「最近の作業」のスクロール可否が不明 |

### LOW - 余裕があれば

| # | 状態 | 画面 | 指摘 |
|---|------|------|------|
| 9 | 対応不要 | 全画面共通 | ローディング状態（スケルトン）のデザインがない |
| 10 | 対応不要 | 復帰ダイアログ | いつの作業かの情報（経過時間・日時）がない |

## 詳細

### #1 タイマー円にプログレス表示がない → 完了

- **画面**: Mobile - Timer / PC - Main（右カラムタイマー）
- **問題**: 残り時間が数字のみで、視覚的な進捗フィードバックがない
- **推奨**: 円形プログレスバー（リング）で残り時間の割合を表示
- **根拠**: タイマーUIのベストプラクティス — 数字＋視覚的進捗の併用
- **対応**: モバイルタイマーにトラック（$border）+プログレスアーク（$primary）を追加。PC版タイマーはコンパクトカードのためリング不要。pencil.devのパス描画制約でやや位置ずれあり、実装ではSVGで正確に描画する（デザイン上にnoteあり）

### #2 「削除」が他アクションと同列 → 完了

- **画面**: Dialog - Task Action / Dialog - Next Task Action
- **問題**: 「次やるに設定」「作業を始める」「編集」「削除」が同列で並んでおり、誤タップで削除するリスクがある
- **推奨**: 削除をセパレーターで分離、または削除タップ後に確認ダイアログを表示
- **根拠**: 破壊的アクションは視覚的に分離すべき
- **対応**: 削除の前にセパレーター（区切り線）を追加。アクション項目間にgap: 4を追加。両ダイアログ（通常版/次やるタスク版）に適用

### #3 バリデーションエラーのデザインがない → 完了

- **画面**: Mobile - Add Task / PC - Add Task Modal
- **問題**: タスク名（必須）が空のまま「追加」を押した場合の表示が未定義
- **推奨**: フィールド下部に赤文字でエラーメッセージを表示するデザインを追加
- **根拠**: Error Feedback — エラーは該当フィールド付近に表示すべき
- **対応**: タスク名入力フィールドの下部に赤文字（#EF4444, fontSize:12）で「タスク名を入力してください」を追加。モバイル・PC両方に適用

### #4 空状態（Empty State）のデザインがない → 完了

- **画面**: Mobile - Home / Mobile - Tasks / PC - Main / PC - Tasks
- **問題**: タスクが0件の場合、画面が空白になる
- **推奨**: ガイドメッセージ＋アクションボタン（例:「タスクを追加しよう！」）を表示
- **根拠**: Empty States — ユーザーを次のアクションへ誘導すべき
- **対応**: 全6画面の空状態デザインを追加。Mobile（Home/Tasks/Calendar）、PC（Main/Tasks/Calendar）にガイドメッセージ＋アクションボタンを配置

### #5 タッチターゲットの高さが小さめ → 完了

- **画面**: Dialog - Task Action / Dialog - Next Task Action
- **問題**: アクション項目のタッチ領域が44px未満に見える
- **推奨**: 各アクション項目を最低44pxの高さにする
- **根拠**: Touch Target Size — 最低44x44px（Apple HIG / WCAG）
- **対応**: 各項目は padding[14,8] + icon 20px = 48px で基準クリア。項目間にgap: 4を追加してタッチ間隔を改善

### #6 カレンダーセル内テキストが小さすぎる → 完了

- **画面**: Mobile - Calendar
- **問題**: CalendarCellコンポーネントのタスク名が fontSize 8px で、実質的に読めない
- **推奨**: 最小11-12pxにするか、タスク名をドット表示に切り替えてタップで詳細表示
- **根拠**: Contrast Readability — 最小フォントサイズ推奨値
- **対応**: タスク名テキストを削除し、タスク数に応じた小ドット（6px, $primary）に変更。実装時の考慮事項は [`docs/specs/implementation-notes.md`](../specs/implementation-notes.md) に記載

### #7 「中断する」が目立たない → 完了

- **画面**: Mobile - Timer End Dialog / Mobile - Recovery Dialog
- **問題**: 完了（Primary）> 継続する（Secondary）> 中断する（Ghost）の3段階だが、中断＝作業記録が残る重要アクションなのにゴースト表示で見落とされやすい
- **推奨**: SecondaryボタンスタイルにするかGhostのままでも視認性を上げる
- **根拠**: アクション階層は正しいが中断の意味がUI上伝わりにくい
- **対応**:
  - 新規Component/Button/Outlined（ボーダー付き、背景なし）を作成
  - タイマー終了ダイアログと復帰ダイアログの「中断する/中断にする」をGhost→Outlinedに変更
  - Primary > Secondary > Outlined の3段階階層を維持しつつ視認性を改善
  - Ghost/Outlinedのテキスト色を`$text-secondary`→`$text`に修正（Ghost=背景なしであり薄い文字ではない）
  - Outlinedのボーダー色を`$border`→`$text-muted`に変更（disabled感の解消）

### #8 PC右カラム「最近の作業」のスクロールと表示ルール → 完了

- **画面**: PC - Main
- **問題**: 右カラムの「最近の作業」リストが画面高さを超えた場合のスクロール挙動が不明。また「最近の作業」の定義が曖昧
- **推奨**: overflow-y-auto を指定するか、表示件数を制限する方針を決める
- **根拠**: Viewport / レイアウト — スクロール領域の明示
- **対応**: 表示ルールを定義し [`docs/specs/implementation-notes.md`](../specs/implementation-notes.md) に記載。直近3日分（実績がある日をカウント）の完了・作業中タスクを降順表示、重複排除、スクロールあり（`overflow-y-auto`）

### #9 ローディング状態のデザインがない → 対応不要

- **画面**: 全画面共通
- **問題**: データ読み込み中の表示（スケルトンスクリーン等）が未定義
- **推奨**: タスクカードやカレンダーのスケルトンデザインを用意
- **根拠**: Loading States — 300ms以上の待機にはフィードバック必要
- **判断**: ローカルストレージからの読み込みは数msのため体感上問題なし。DB移行時に再検討

### #10 復帰ダイアログの情報不足 → 対応不要

- **画面**: Mobile - Recovery Dialog
- **問題**: 「前回の作業が未完了です」のみで、いつの作業かわからない
- **推奨**: 経過時間（例:「2時間前に中断」）や日時を表示
- **根拠**: Error Recovery — 回復判断に十分な情報を提供すべき
- **判断**: 現時点では対応しない

---

# ユーザー指摘

## 指摘一覧

| # | 状態 | 画面 | 指摘 |
|---|------|------|------|
| 11 | 完了 | 全画面共通 | fontSizeをTailwind CSS標準に統一 |
| 12 | 完了 | タイマー関連画面 | 中断アイコンの不統一 |
| 13 | 完了 | 全画面共通 | 「カレンダー」→「作業記録」にリネーム |
| 14 | 未対応 | タスク一覧 | 削除が即実行で誤操作リスクがある |

## 詳細

### #14 削除が即実行で誤操作リスクがある

- **状態**: 未対応
- **画面**: タスク一覧（タスクアクションダイアログ）
- **問題**: 削除ボタンを押すと確認なしで即削除されるため、誤タップで削除してしまうリスクがある
- **案**:
  - A: Undoスナックバー（即削除＋「元に戻す」表示）
  - B: 確認ダイアログを出す。ただしダイアログの上にダイアログが開くことになるので、タスクアクションやタスク追加をインライン化（タスクカード直下に展開）する方向で検討

### #11 fontSizeをTailwind CSS標準に統一

- **状態**: 完了
- **画面**: 全画面共通
- **問題**: デザイン全体でfontSizeが15px、13px等のTailwind非標準値が使われている（ボタン: 15px、バッジ/フィルター: 13px 等）
- **推奨**: Tailwind CSSの標準スケール（12, 14, 16, 18, 20px）に寄せる
- **対応**: 全テキストノードを監査し、非標準値をTailwindスケールにマッピング（8→削除済, 11→12, 13→12, 15→16, 22→24, 32→30）。コンポーネント・インスタンス含む51箇所を一括修正

### #12 中断アイコンの不統一 → 完了

- **状態**: 完了
- **画面**: タイマー関連画面
- **問題**: 中断アクションのアイコンが画面によって異なる
  - `pause`: Mobile Timer, PC Timer
  - `square`: Timer End Dialog, Recovery Dialog
- **対応**: 全て `pause` に統一（中断＝一時停止の意味）

### #13 「カレンダー」→「作業記録」にリネーム → 完了

- **状態**: 完了
- **画面**: 全画面共通（タブバー、サイドバー、画面タイトル、画面名）
- **内容**: 「カレンダー」という名称を「作業記録」に変更する。画面タイトル、タブバーラベル、PCサイドバーナビ、アイコン名（calendar→変更要否検討）等、全箇所対象
- **対応**: 全21箇所を「作業記録」に変更。TabBarコンポーネント4種、Sidebarコンポーネント4種、PC画面サイドバー7画面、画面タイトル4画面。アイコン（calendar）は変更なし
