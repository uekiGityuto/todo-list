# 実装時の考慮事項

デザインフェーズで出た、実装時に考慮すべき点をまとめる。

## カレンダーセルのタスク表示

コード実装では1つのCalendarCellコンポーネントでレスポンシブ分岐する。

### モバイル: ドット表示
- タスク数に応じてドットを動的に描画する
- セルに入りきらない分は表示しない（`overflow: hidden` または表示数の上限で制御）

### PC: タスク名表示
- タスク名をテキストで表示する（1タスク1行、見切れはtruncate）
- セルに入りきらない分は表示しない（`overflow: hidden`）

### 共通
- タップ/クリックで日付詳細（タスク一覧）を表示する導線は既にある

## カレンダーのデフォルト選択日

- 初期表示時は今日の日付を選択状態にする
- 選択日にタスク（作業記録）がなければ空状態メッセージを表示

## PC右カラム「最近の作業」

### 表示ルール
- 作業実績がある直近**3日分**を表示（カレンダー日ではなく、実績がある日を3日カウント）
- 各日に「完了」または「作業中」にしたタスクを表示
- 同じタスクが複数日にまたがる場合は**最新の日のみ**表示（重複排除）
- **降順**（最後に操作したタスクが最上部）
- スクロールあり（`overflow-y-auto`）

### 例
今日が2026年1月3日で、以下の実績がある場合:
| 日付 | 件数 |
|------|------|
| 2026/1/1 | 3件 |
| 2025/12/28 | 2件 |
| 2025/12/20 | 5件 |
| 2025/12/10 | 1件 |

→ 直近3日 = 1/1、12/28、12/20 の合計10件を表示（12/10は対象外）

### デザイン上の注記
- リストが右カラムの高さを超える場合はスクロールバーを表示する

## カテゴリフィルタの横スクロール

- カテゴリ数が画面幅を超える場合、横スクロールで対応する
- `overflow-x-auto` + `flex-nowrap` でチップ型フィルタを横並び
- スクロールバーは可能なら非表示にする（`::-webkit-scrollbar` 等）
- 右端にフェード表示を入れて「まだある」ことを示すと良い

## タスクアクションのアコーディオン展開

- タスクカードタップ → ボトムシートではなくカード直下にアクション一覧をアコーディオン展開
- 閉じた状態: chevron-down、開いた状態: chevron-up
- 同時に開けるカードは1つのみ（他を開くと前のは閉じる）
- 削除タップ → 確認ダイアログを表示（ダイアログは1枚だけなので重複しない）

## オーバーレイ

- モーダル・ボトムシート等の浮き要素には背景オーバーレイを入れる（デザイン変数 $overlay: #00000040）

## トランジション

- 基本: `transition-all duration-200 ease-out` で統一
